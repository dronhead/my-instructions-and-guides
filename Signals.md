# Linux Signals

**Сигнал** — это способ, с помощью которого ядро Linux может отправить сообщение процессу. Это сообщение может:  
- заставить процесс завершиться  
- приостановить его
- возобновить
- или просто уведомить о каком-то событии (например, о завершении дочернего процесса)

Процесс может либо:

- завершиться при получении сигнала
- обработать его с помощью специального обработчика (в коде)
- игнорировать (если это разрешено для данного сигнала)

## Список сигналов

Существует простой способ составить список всех сигналов, поддерживаемых вашей системой. Каждому сигналу присваивается номер. Просто введите команду `kill -l` чтобы увидеть все доступные сигналы.

### Часто используемые сигналы 

| Имя       | №  | Что делает                                                          |
| --------- | -- | ------------------------------------------------------------------- |
| `SIGHUP`  | 1  | «Hang up» — сигнал о закрытии терминала, часто перезапускает демоны |
| `SIGINT`  | 2  | Прерывание с клавиатуры (Ctrl+C)                                    |
| `SIGQUIT` | 3  | Прерывание с дампом памяти (Ctrl+\\)                                |
| `SIGKILL` | 9  | Безусловное завершение — **процесс не может его перехватить**       |
| `SIGTERM` | 15 | Вежливый способ попросить завершиться                               |
| `SIGSTOP` | 19 | Остановка процесса (как Ctrl+Z), **необрабатываемый**               |
| `SIGCONT` | 18 | Продолжить работу после `SIGSTOP`                                   |
| `SIGCHLD` | 17 | Родитель уведомлён, что дочерний процесс завершён                   |
| `SIGUSR1` | 10 | Пользовательский сигнал 1 — можно использовать как угодно           |

## Перехват сигналов

Для того, чтобы включить в скрипте отслеживание сигналов Linux, используется команда `trap`. Если скрипт получает сигнал, указанный при вызове этой команды, он обрабатывает его самостоятельно, при этом оболочка такой сигнал обрабатывать не будет.
Команда `trap` позволяет скрипту реагировать на сигналы, в противном случае их обработка выполняется оболочкой без его участия.

## Как отправлять сигналы

- С помощью `kill`:  
```bash
kill -SIGTERM <pid>   # Вежливо завершить процесс
kill -9 <pid>         # Жёстко убить процесс (SIGKILL)
kill -SIGUSR1 <pid>   # Отправить пользовательский сигнал
```
- По имени процесса:   
```bash
killall -SIGINT имя_процесса
pkill -f шаблон_команды
```